<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å®‰è£…ä¸€äº›å¸¸ç”¨åº“ | ç ´æ™“ï¼šé»‘å¤œä¹‹ä¸­çš„ Electron é£è¡ŒæŒ‡å—</title>
    <meta name="description" content="ğŸ¨ Electron æ²¡é‚£ä¹ˆéš¾">
    
    
    <link rel="preload" href="/electron-flyer/assets/css/0.styles.3d6eb61a.css" as="style"><link rel="preload" href="/electron-flyer/assets/js/app.22e63a91.js" as="script"><link rel="preload" href="/electron-flyer/assets/js/20.1d66ae28.js" as="script"><link rel="prefetch" href="/electron-flyer/assets/js/10.d6a7e726.js"><link rel="prefetch" href="/electron-flyer/assets/js/11.887eb323.js"><link rel="prefetch" href="/electron-flyer/assets/js/12.91b28bd0.js"><link rel="prefetch" href="/electron-flyer/assets/js/13.2a080c63.js"><link rel="prefetch" href="/electron-flyer/assets/js/14.e6db4937.js"><link rel="prefetch" href="/electron-flyer/assets/js/15.4888b394.js"><link rel="prefetch" href="/electron-flyer/assets/js/16.6209dfc4.js"><link rel="prefetch" href="/electron-flyer/assets/js/17.4dabdbda.js"><link rel="prefetch" href="/electron-flyer/assets/js/18.d91d10ee.js"><link rel="prefetch" href="/electron-flyer/assets/js/19.2288f168.js"><link rel="prefetch" href="/electron-flyer/assets/js/2.182ecb78.js"><link rel="prefetch" href="/electron-flyer/assets/js/21.1073c24e.js"><link rel="prefetch" href="/electron-flyer/assets/js/22.9864bcb1.js"><link rel="prefetch" href="/electron-flyer/assets/js/23.0099ea93.js"><link rel="prefetch" href="/electron-flyer/assets/js/24.2924e65e.js"><link rel="prefetch" href="/electron-flyer/assets/js/25.9ffdaddc.js"><link rel="prefetch" href="/electron-flyer/assets/js/26.549bcbd0.js"><link rel="prefetch" href="/electron-flyer/assets/js/3.7de79766.js"><link rel="prefetch" href="/electron-flyer/assets/js/4.fa89f104.js"><link rel="prefetch" href="/electron-flyer/assets/js/5.968ec6b8.js"><link rel="prefetch" href="/electron-flyer/assets/js/6.0f1acbba.js"><link rel="prefetch" href="/electron-flyer/assets/js/7.08f680e1.js"><link rel="prefetch" href="/electron-flyer/assets/js/8.01be9bf3.js"><link rel="prefetch" href="/electron-flyer/assets/js/9.b7ab19cb.js">
    <link rel="stylesheet" href="/electron-flyer/assets/css/0.styles.3d6eb61a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme__container sidebar-open"><div class="row"><div class="col-md-2"><div class="sidebar"><div class="group"><div class="group__title">ç« èŠ‚å†…å®¹</div> <div class="group__body"><!---->  <div name="1.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/1.html">å†å²ä»‹ç»</a></div> </div><div name="2.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/2.html">å¼€å‘ç¯å¢ƒ</a></div> </div><div name="3.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/3.html" class="router-link-exact-active router-link-active">ä»£ç å°è£…</a></div> </div><div name="4.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/4.html">å‡½æ•°å¼</a></div> </div><div name="5.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/5.html">è·å–å°è¯´å‘½ä»¤è¡Œç‰ˆï¼ˆä¸Šï¼‰</a></div> </div><div name="6.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/6.html">è·å–å°è¯´å‘½ä»¤è¡Œç‰ˆï¼ˆä¸­ï¼‰</a></div> </div><div name="7.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/7.html">è·å–å°è¯´å‘½ä»¤è¡Œç‰ˆï¼ˆä¸‹ï¼‰</a></div> </div><div name="8.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/8.html">åµŒå…¥åˆ°åº”ç”¨ä¸­</a></div> </div><div name="9.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/9.html">æ’ä»¶æœºåˆ¶</a></div> </div><div name="10.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/10.html">æ–‡å­—è½¬è¯­éŸ³</a></div> </div><div name="11.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/11.html">è®¾ç½®ä¸ä¿¡å·ä¸­æ–­</a></div> </div><div name="12.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/12.html">æ’ä»¶å•†åº—</a></div> </div><div name="13.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/13.html">ä¸‹è½½ä¸åˆ é™¤ï¼ˆä¸Šï¼‰</a></div> </div><div name="14.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/14.html">ä¸‹è½½ä¸åˆ é™¤ï¼ˆä¸‹ï¼‰</a></div> </div><div name="15.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/15.html">é€šçŸ¥æ ç¨‹åº</a></div> </div><div name="16.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/16.html">æ’­æ”¾åŠŸèƒ½</a></div> </div><div name="17.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/17.html">ç¾åŒ–ç•Œé¢</a></div> </div><div name="18.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/18.html">æ•°æ®å¯è§†åŒ–ï¼ˆä¸Šï¼‰</a></div> </div><div name="19.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/19.html">æ•°æ®å¯è§†åŒ–ï¼ˆä¸­ï¼‰</a></div> </div><div name="20.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/20.html">æ•°æ®å¯è§†åŒ–ï¼ˆä¸‹ï¼‰</a></div> </div><div name="21.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/21.html">åµŒå…¥åˆ°åº”ç”¨ä¸­</a></div> </div><div name="22.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/22.html">æ‰“åŒ…åº”ç”¨</a></div> </div></div></div></div></div> <div class="col-md-10"><div class="page__container"><div class="content custom"><p>ä»¥ç±»çš„å½¢å¼å°è£…åªæ˜¯æ¼”ç¤ºï¼Œåªæ˜¯ä¸€ç§æ€è·¯ï¼Œå¹¶éåœ¨åç»­ä¼šä½¿ç”¨ï¼Œä½†æ˜¯å¤§å®¶å¯ä»¥å‚è€ƒåœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨ã€‚è¿™é‡Œé¢æœ‰ä¸€äº›å‘ï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ ï¼Œæˆ‘å…¶å®ä¹Ÿå°è¯•è¿‡ TypeScript çš„æ–¹å¼ï¼Œæœ€ç»ˆè¿˜æ˜¯è´¥ç»™äº†é”™è¯¯ã€‚å‡å¦‚ä½ æƒ³è¦ä½¿ç”¨ class å°è£…ï¼Œé‚£ä¹ˆä¸€å®šè¦æ³¨æ„ç”Ÿå‘½å‘¨æœŸã€‚</p> <h2 id="å®‰è£…ä¸€äº›å¸¸ç”¨åº“"><a href="#å®‰è£…ä¸€äº›å¸¸ç”¨åº“" aria-hidden="true" class="header-anchor">#</a> å®‰è£…ä¸€äº›å¸¸ç”¨åº“</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> electron-util camelcase --save
</code></pre></div><ul><li><p>electron-util é‡Œé¢å°è£…äº†å¸¸ç”¨çš„å¸®åŠ©åº“</p></li> <li><p>camelcase æ˜¯ç”¨æ¥è½¬äº‹ä»¶åçš„ï¼Œæ”¹æˆé©¼å³°å¼å‘½å</p></li></ul> <blockquote><p>è¿™é‡Œå‘Šè¯‰å¤§å®¶  å¿«é€Ÿæœç´¢åŒ…çš„ä¸€ä¸ªå°æŠ€å·§ï¼Œä¸‹è½½ chrome å³é”®æœæ’ä»¶ï¼Œè‡ªè¡Œæ·»åŠ  npm æœç´¢è®¾ç½®ç„¶åå°±å¯ä»¥é€‰ä¸­åŒ…æ˜è¿›è¡Œå¿«é€Ÿæœç´¢ã€‚</p></blockquote> <h2 id="æ·»åŠ äº‹ä»¶æ˜ å°„"><a href="#æ·»åŠ äº‹ä»¶æ˜ å°„" aria-hidden="true" class="header-anchor">#</a> æ·»åŠ äº‹ä»¶æ˜ å°„</h2> <p>æ·»åŠ  <code>main/events.js</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token string">'accessibility-support-changed'</span><span class="token punctuation">,</span>
  <span class="token string">'activate'</span><span class="token punctuation">,</span>
  <span class="token string">'activity-was-continued'</span><span class="token punctuation">,</span>
  <span class="token string">'before-quit'</span><span class="token punctuation">,</span>
  <span class="token string">'browser-window-blur'</span><span class="token punctuation">,</span>
  <span class="token string">'browser-window-created'</span><span class="token punctuation">,</span>
  <span class="token string">'browser-window-focus'</span><span class="token punctuation">,</span>
  <span class="token string">'certificate-error'</span><span class="token punctuation">,</span>
  <span class="token string">'continue-activity'</span><span class="token punctuation">,</span>
  <span class="token string">'gpu-process-crashed'</span><span class="token punctuation">,</span>
  <span class="token string">'login'</span><span class="token punctuation">,</span>
  <span class="token string">'new-window-for-tab'</span><span class="token punctuation">,</span>
  <span class="token string">'open-file'</span><span class="token punctuation">,</span>
  <span class="token string">'open-url'</span><span class="token punctuation">,</span>
  <span class="token string">'quit'</span><span class="token punctuation">,</span>
  <span class="token string">'ready'</span><span class="token punctuation">,</span>
  <span class="token string">'select-client-certificate'</span><span class="token punctuation">,</span>
  <span class="token string">'update-activity-state'</span><span class="token punctuation">,</span>
  <span class="token string">'web-contents-created'</span><span class="token punctuation">,</span>
  <span class="token string">'will-continue-activity'</span><span class="token punctuation">,</span>
  <span class="token string">'will-finish-launching'</span><span class="token punctuation">,</span>
  <span class="token string">'will-quit'</span><span class="token punctuation">,</span>
  <span class="token string">'window-all-closed'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>é‡Œé¢å­˜æ”¾çš„æ˜¯æ‰€æœ‰éœ€è¦è½¬æ¢åˆ° <a href="https://electronjs.org/docs/api/app#%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener noreferrer">app ä¸Šé¢çš„äº‹ä»¶<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œç­‰ä¼šæˆ‘ä»¬ä¼šè®©å®ƒä»¬è‡ªåŠ¨åšç»‘å®šã€‚</p> <h2 id="application-js"><a href="#application-js" aria-hidden="true" class="header-anchor">#</a> Application.js</h2> <p>å¯¼å…¥ä¾èµ–</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> electron <span class="token keyword">from</span> <span class="token string">'electron'</span>
<span class="token keyword">import</span> util <span class="token keyword">from</span> <span class="token string">'electron-util'</span>
<span class="token keyword">import</span> camelcase <span class="token keyword">from</span> <span class="token string">'camelcase'</span>
<span class="token keyword">import</span> events <span class="token keyword">from</span> <span class="token string">'./events'</span>
</code></pre></div><p>æ„é€ å‡½æ•°é‡Œé¢ç¬¬ä¸€ä¸ªè¦å‡†å¤‡çš„æ˜¯ ready äº‹ä»¶ï¼Œåªæœ‰å½“è¿™ä¸ªäº‹ä»¶éƒ½å®Œæˆçš„æ—¶å€™ï¼Œæ‰èƒ½ç»§ç»­åšä¸€äº›äº‹æƒ…ï¼Œå‡å¦‚ä½ æƒ³ç›´æ¥æŠŠ <code>electron</code> ä¸Šé¢çš„ä¸œè¥¿é€šè¿‡ <code>Object.assign</code> æ‹·è´åˆ° this ä¸Šé¢ï¼Œä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰å‡†å¤‡å¥½ï¼Œèƒ½æ‹·è´æŸäº›æ¨¡å—ä¹Ÿä¼šæŠ¥é”™ã€‚ electron ä¸Šé¢çš„å±æ€§å…¶å®æ˜¯ä¸€äº› <code>getter</code>ã€‚</p> <p>ç»‘å®š ready çš„æ—¶å€™ä¸è¦å¿˜è®°ç»‘å®š thisï¼Œè¦ä¸ç„¶ this ä¼šä¸¢å¤±ï¼Œè¿™æ˜¯ js çš„é™·é˜±ä¹‹ä¸€ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    electron<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç„¶ååœ¨ ready é‡Œé¢åˆ›å»ºçª—å£å’Œåˆå§‹åŒ–äº‹ä»¶ç»‘å®š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> electron<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>mainWindow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createMainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åˆ›å»ºçª—å£ï¼Œè¦åšä¸€äº›å…¼å®¹ï¼Œä½¿ç”¨ util ä¼šç®€æ´ä¸å°‘ï¼Œæ¯”å¦‚åˆ¤æ–­ç¯å¢ƒè½½å…¥ä¸åŒçš„å¼€å§‹æ–‡ä»¶ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token function">createMainWindow</span><span class="token punctuation">(</span><span class="token parameter">opts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> win <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">electron<span class="token punctuation">.</span>BrowserWindow</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>util<span class="token punctuation">.</span>is<span class="token punctuation">.</span>development<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      win<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">openDevTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      win<span class="token punctuation">.</span><span class="token function">loadURL</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">ELECTRON_WEBPACK_WDS_PORT</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      util<span class="token punctuation">.</span><span class="token function">loadFile</span><span class="token punctuation">(</span>win<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    win<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>mainWindow <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    win<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'devtools-opened'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      win<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> win<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> win
  <span class="token punctuation">}</span>
</code></pre></div><p>åˆå§‹åŒ–äº‹ä»¶ï¼Œå‡å¦‚è‡ªèº«æ²¡æœ‰è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ä¸è¦ç»‘å®šï¼Œè¦ä¸ç„¶ç»‘ä¸ª undefined ä¼šæŠ¥é”™</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    events<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token function">camelcase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token function">camelcase</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>æ·»åŠ ä¸ªå¹³å°å…¼å®¹äº‹ä»¶ï¼Œè¿™ä¸¤ä¸ªæ˜¯äº‹ä»¶ï¼Œåœ¨ initEvent é‡Œé¢ä¼šè‡ªåŠ¨ç»‘å®šã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token function">windowAllClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>util<span class="token punctuation">.</span>is<span class="token punctuation">.</span>macos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      electron<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>mainWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>mainWindow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createMainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±å®ç°äº†ä¸€ä¸ªçº¦å®šä¼˜å…ˆçš„ Electron å¼€å‘æ¡†æ¶ï¼Œåªè¦ä½ å°è£…çš„å¤Ÿå¥½ï¼Œå®Œå…¨å¯ä»¥å®ç°ä¸€ä¸ªå¿«é€Ÿå¼€å‘æ¡†æ¶ã€‚</p> <h2 id="å…¥å£æ–‡ä»¶"><a href="#å…¥å£æ–‡ä»¶" aria-hidden="true" class="header-anchor">#</a> å…¥å£æ–‡ä»¶</h2> <p>ä¿®æ”¹ <code>main/index.js</code>ï¼Œ å¤Ÿåˆšåˆšçš„ç±»è¿›è¡Œå®ä¾‹åŒ–ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Application <span class="token keyword">from</span> <span class="token string">'./Application'</span>

<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="é¿å…å¾ªç¯ä¾èµ–"><a href="#é¿å…å¾ªç¯ä¾èµ–" aria-hidden="true" class="header-anchor">#</a> é¿å…å¾ªç¯ä¾èµ–</h2> <p>åœ¨ç¼–ç¨‹ä¸­ï¼Œå¯¹äºåˆå­¦è€…æœ€å¤´ç–¼çš„å¯èƒ½å°±æ˜¯å¾ªç¯ä¾èµ–äº†ï¼Œå‡å¦‚ä½ æœ‰ä¸€ä¸ª Tray.js æ¥æ§åˆ¶é€šçŸ¥æ çš„ä¸€äº›é€»è¾‘ï¼Œå»ºè®®åœ¨ ready é‡Œé¢å®ä¾‹åŒ–ï¼Œå¹¶æŠŠ<code>this</code>ä¼ é€’è¿›å»ï¼Œè¿™æ ·ä¸ä»…å¯ä»¥é¿å…å¾ªç¯ä¾èµ–ï¼Œè¿˜å¯ä»¥é¿å…æœ‰äº›é€»è¾‘æ²¡æœ‰å‡†å¤‡å¥½ï¼Œå¯¼è‡´çš„é”™è¯¯ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Tray <span class="token keyword">from</span> <span class="token string">'./tray'</span>
<span class="token keyword">async</span> <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>tray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tray</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯å±æ€§æ³¨å…¥ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
electron<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span>tray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  app<span class="token punctuation">.</span>tray<span class="token punctuation">.</span>app <span class="token operator">=</span> app
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æˆ–è€…ä½¿ç”¨ä¸€ä¸ªä¾èµ–ç®¡ç†ä¸­å¿ƒ</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> depHub <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Application</span><span class="token punctuation">(</span>depHub<span class="token punctuation">)</span>
electron<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> tray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tray</span><span class="token punctuation">(</span>depHub<span class="token punctuation">)</span>
  depHub<span class="token punctuation">.</span>app <span class="token operator">=</span> app
  depHub<span class="token punctuation">.</span>tray <span class="token operator">=</span> tray
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="https://github.com/MiYogurt/electron-svelte-template" target="_blank" rel="noopener noreferrer">ä»£ç åœ¨è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="content__footer-container"><div class="content__footer"><!----> <!----></div></div></div></div></div></div></div>
    <script src="/electron-flyer/assets/js/app.22e63a91.js" defer></script><script src="/electron-flyer/assets/js/20.1d66ae28.js" defer></script>
  </body>
</html>
