<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ¸å˜ç‰ˆæœ¬ | ç ´æ™“ï¼šé»‘å¤œä¹‹ä¸­çš„ Electron é£è¡ŒæŒ‡å—</title>
    <meta name="description" content="ğŸ¨ Electron æ²¡é‚£ä¹ˆéš¾">
    
    
    <link rel="preload" href="/electron-flyer/assets/css/0.styles.3d6eb61a.css" as="style"><link rel="preload" href="/electron-flyer/assets/js/app.22e63a91.js" as="script"><link rel="preload" href="/electron-flyer/assets/js/5.968ec6b8.js" as="script"><link rel="prefetch" href="/electron-flyer/assets/js/10.d6a7e726.js"><link rel="prefetch" href="/electron-flyer/assets/js/11.887eb323.js"><link rel="prefetch" href="/electron-flyer/assets/js/12.91b28bd0.js"><link rel="prefetch" href="/electron-flyer/assets/js/13.2a080c63.js"><link rel="prefetch" href="/electron-flyer/assets/js/14.e6db4937.js"><link rel="prefetch" href="/electron-flyer/assets/js/15.4888b394.js"><link rel="prefetch" href="/electron-flyer/assets/js/16.6209dfc4.js"><link rel="prefetch" href="/electron-flyer/assets/js/17.4dabdbda.js"><link rel="prefetch" href="/electron-flyer/assets/js/18.d91d10ee.js"><link rel="prefetch" href="/electron-flyer/assets/js/19.2288f168.js"><link rel="prefetch" href="/electron-flyer/assets/js/2.182ecb78.js"><link rel="prefetch" href="/electron-flyer/assets/js/20.1d66ae28.js"><link rel="prefetch" href="/electron-flyer/assets/js/21.1073c24e.js"><link rel="prefetch" href="/electron-flyer/assets/js/22.9864bcb1.js"><link rel="prefetch" href="/electron-flyer/assets/js/23.0099ea93.js"><link rel="prefetch" href="/electron-flyer/assets/js/24.2924e65e.js"><link rel="prefetch" href="/electron-flyer/assets/js/25.9ffdaddc.js"><link rel="prefetch" href="/electron-flyer/assets/js/26.549bcbd0.js"><link rel="prefetch" href="/electron-flyer/assets/js/3.7de79766.js"><link rel="prefetch" href="/electron-flyer/assets/js/4.fa89f104.js"><link rel="prefetch" href="/electron-flyer/assets/js/6.0f1acbba.js"><link rel="prefetch" href="/electron-flyer/assets/js/7.08f680e1.js"><link rel="prefetch" href="/electron-flyer/assets/js/8.01be9bf3.js"><link rel="prefetch" href="/electron-flyer/assets/js/9.b7ab19cb.js">
    <link rel="stylesheet" href="/electron-flyer/assets/css/0.styles.3d6eb61a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme__container sidebar-open"><div class="row"><div class="col-md-2"><div class="sidebar"><div class="group"><div class="group__title">ç« èŠ‚å†…å®¹</div> <div class="group__body"><!---->  <div name="1.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/1.html">å†å²ä»‹ç»</a></div> </div><div name="2.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/2.html">å¼€å‘ç¯å¢ƒ</a></div> </div><div name="3.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/3.html">ä»£ç å°è£…</a></div> </div><div name="4.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/4.html">å‡½æ•°å¼</a></div> </div><div name="5.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/5.html">è·å–å°è¯´å‘½ä»¤è¡Œç‰ˆï¼ˆä¸Šï¼‰</a></div> </div><div name="6.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/6.html">è·å–å°è¯´å‘½ä»¤è¡Œç‰ˆï¼ˆä¸­ï¼‰</a></div> </div><div name="7.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/7.html">è·å–å°è¯´å‘½ä»¤è¡Œç‰ˆï¼ˆä¸‹ï¼‰</a></div> </div><div name="8.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/8.html">åµŒå…¥åˆ°åº”ç”¨ä¸­</a></div> </div><div name="9.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/9.html">æ’ä»¶æœºåˆ¶</a></div> </div><div name="10.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/10.html">æ–‡å­—è½¬è¯­éŸ³</a></div> </div><div name="11.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/11.html">è®¾ç½®ä¸ä¿¡å·ä¸­æ–­</a></div> </div><div name="12.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/12.html">æ’ä»¶å•†åº—</a></div> </div><div name="13.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/13.html">ä¸‹è½½ä¸åˆ é™¤ï¼ˆä¸Šï¼‰</a></div> </div><div name="14.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/14.html">ä¸‹è½½ä¸åˆ é™¤ï¼ˆä¸‹ï¼‰</a></div> </div><div name="15.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/15.html">é€šçŸ¥æ ç¨‹åº</a></div> </div><div name="16.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/16.html">æ’­æ”¾åŠŸèƒ½</a></div> </div><div name="17.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/17.html">ç¾åŒ–ç•Œé¢</a></div> </div><div name="18.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/18.html">æ•°æ®å¯è§†åŒ–ï¼ˆä¸Šï¼‰</a></div> </div><div name="19.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/19.html">æ•°æ®å¯è§†åŒ–ï¼ˆä¸­ï¼‰</a></div> </div><div name="20.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/20.html" class="router-link-exact-active router-link-active">æ•°æ®å¯è§†åŒ–ï¼ˆä¸‹ï¼‰</a></div> </div><div name="21.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/21.html">åµŒå…¥åˆ°åº”ç”¨ä¸­</a></div> </div><div name="22.html" class="group__category category"><div class="category__label"><a href="/electron-flyer/22.html">æ‰“åŒ…åº”ç”¨</a></div> </div></div></div></div></div> <div class="col-md-10"><div class="page__container"><div class="content custom"><h2 id="æ¸å˜ç‰ˆæœ¬"><a href="#æ¸å˜ç‰ˆæœ¬" aria-hidden="true" class="header-anchor">#</a> æ¸å˜ç‰ˆæœ¬</h2> <p>æ²¡æœ‰æ¸å˜ï¼Œä¼¼ä¹æ€»å°‘ç‚¹ä»€ä¹ˆï¼Œå¯ä¸å¯ä»¥æ¥ç‚¹æ¸å˜ã€‚å‡å¦‚ä¸Šæ¸å˜çš„è¯ï¼Œéœ€è¦æ”¹å˜ä¸€ä¸‹æ€è·¯ï¼Œè¿™ä¸ªæ€è·¯æ›´åŠ ä¼˜ç§€ï¼Œç»˜åˆ¶çš„æ•°é‡æ›´å°‘ã€‚å¯¹äºè¿™ç§é—´éš”ï¼Œæˆ‘ä»¬é€šè¿‡ clearRect æ¸…æ¥šå³å¯ã€‚</p> <p>ç°åœ¨éƒ½æ˜¯ç¡®å®šé«˜åº¦ï¼Œç„¶åä»¥å…¨å±€é«˜åº¦å‡å»çŸ©å½¢é«˜åº¦ä¸ºåæ ‡ yï¼Œç”»å®Œçš„å°æ–¹å—åˆšå¥½ä»¥åº•éƒ¨å¯¹é½ã€‚</p> <p><code>show me code</code></p> <p><img src="/electron-flyer/assets/img/cvs8.6f4a450b.gif" alt></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> widthSize <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> GreenHightArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>widthSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
<span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span>
<span class="token keyword">let</span> maxSize <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">function</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> widthSize<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ramdom <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    currentSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ramdom <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">*</span> maxSize<span class="token punctuation">)</span>

    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'red'</span>

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>
      j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span>
      height <span class="token operator">-</span> h <span class="token operator">*</span> currentSize<span class="token punctuation">,</span>
      w<span class="token punctuation">,</span>
      h <span class="token operator">*</span> currentSize
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>Run<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>æ·»åŠ æ¸å˜æ ·å¼</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> g <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#283149'</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token string">'#ff7a5c'</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token string">'#c93d1b'</span><span class="token punctuation">)</span>
ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> g
</code></pre></div><p>æ·»åŠ å°ç»¿å—</p> <p><img src="/electron-flyer/assets/img/cvs9.a3bd7b9f.gif" alt></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> widthSize<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ramdom <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    currentSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ramdom <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">*</span> maxSize<span class="token punctuation">)</span>

    <span class="token keyword">let</span> g <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#283149'</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token string">'#ff7a5c'</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token string">'#c93d1b'</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> g

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>
      j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span>
      height <span class="token operator">-</span> h <span class="token operator">*</span> currentSize<span class="token punctuation">,</span>
      w<span class="token punctuation">,</span>
      h <span class="token operator">*</span> currentSize
    <span class="token punctuation">)</span>

    <span class="token comment">// ç»¿å—é€»è¾‘</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'green'</span>

    currentGreenHight <span class="token operator">=</span> height <span class="token operator">-</span> currentSize <span class="token operator">*</span> h <span class="token comment">// åˆ¶é«˜ç‚¹ y åæ ‡ã€‚</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> v <span class="token operator">&gt;</span> currentGreenHight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> currentGreenHight
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span> GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> v
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span> GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>Run<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>åˆ†å‰²ç½‘æ ¼</p> <p><img src="/electron-flyer/assets/img/cvs10.be920fc7.gif" alt></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> widthSize <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> GreenHightArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>widthSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
<span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token comment">// ä¸‹é™é€Ÿåº¦</span>

<span class="token keyword">let</span> maxSize <span class="token operator">=</span> <span class="token number">30</span> <span class="token comment">// -&gt; 255</span>
<span class="token keyword">let</span> lines <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>height <span class="token operator">/</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// è®¡ç®—è¡Œæ•°</span>
<span class="token keyword">function</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> widthSize<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ramdom <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    currentSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ramdom <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">*</span> maxSize<span class="token punctuation">)</span>

    <span class="token keyword">let</span> g <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#283149'</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token string">'#ff7a5c'</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token string">'#c93d1b'</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> g

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>
      j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span>
      height <span class="token operator">-</span> h <span class="token operator">*</span> currentSize<span class="token punctuation">,</span>
      w<span class="token punctuation">,</span>
      h <span class="token operator">*</span> currentSize
    <span class="token punctuation">)</span>

    <span class="token comment">// ç»¿å—é€»è¾‘</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'green'</span>
    currentGreenHight <span class="token operator">=</span> height <span class="token operator">-</span> currentSize <span class="token operator">*</span> h <span class="token comment">// åˆ¶é«˜ç‚¹ y åæ ‡ã€‚</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> currentGreenHight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> currentGreenHight
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span> GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> v
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span> GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> lines<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height <span class="token operator">-</span> i <span class="token operator">*</span> h<span class="token punctuation">,</span> width<span class="token punctuation">,</span> margin<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>Run<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢åˆ‡å‰²çš„ä¸å‡†ç¡®ï¼Œè¯´æ˜æŸå¤„çš„ <code>margin</code> æ²¡åŠ ä¸Šã€‚ä»”ç»†æ£€æŸ¥ï¼Œç°åœ¨æ‰€æœ‰çš„å—ç»˜åˆ¶çš„é«˜åº¦éƒ½æ˜¯ <code>h + margin</code>ï¼Œç„¶åç”¨ clearRect è¿›è¡Œåˆ‡å‰²ã€‚</p> <p><img src="/electron-flyer/assets/img/cvs11.d9ea425e.gif" alt></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> h <span class="token operator">=</span> <span class="token number">10</span>

<span class="token keyword">let</span> margin <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// é—´éš”</span>

<span class="token comment">// let GreenHight = height</span>
<span class="token keyword">let</span> widthSize <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">let</span> GreenHightArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>widthSize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
<span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token comment">// ä¸‹é™é€Ÿåº¦</span>

<span class="token keyword">let</span> maxSize <span class="token operator">=</span> <span class="token number">24</span> <span class="token comment">// -&gt; 255</span>
<span class="token keyword">let</span> lines <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>height <span class="token operator">/</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// è®¡ç®—è¡Œæ•°</span>

<span class="token keyword">function</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> widthSize<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> ramdom <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    currentSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ramdom <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">*</span> maxSize<span class="token punctuation">)</span>

    <span class="token keyword">let</span> g <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'#233142'</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token string">'#455d7a'</span><span class="token punctuation">)</span>
    g<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token string">'#f95959'</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> g

    ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>
      j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span>
      height <span class="token operator">-</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> currentSize<span class="token punctuation">,</span>
      w<span class="token punctuation">,</span>
      <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token operator">*</span> currentSize
    <span class="token punctuation">)</span>

    <span class="token comment">// ç»¿å—é€»è¾‘</span>
    ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'green'</span>

    currentGreenHight <span class="token operator">=</span> height <span class="token operator">-</span> currentSize <span class="token operator">*</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span> <span class="token comment">// åˆ¶é«˜ç‚¹ y åæ ‡ã€‚</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> v <span class="token operator">&gt;</span> currentGreenHight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> currentGreenHight
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span> GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h <span class="token operator">+</span> margin<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> v
      ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>j <span class="token operator">*</span> w <span class="token operator">+</span> margin <span class="token operator">*</span> j<span class="token punctuation">,</span> GreenHightArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> h <span class="token operator">+</span> margin<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> lines<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> height <span class="token operator">-</span> i <span class="token operator">*</span> <span class="token punctuation">(</span>h <span class="token operator">+</span> margin<span class="token punctuation">)</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> margin<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>Run<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div> <div class="content__footer-container"><div class="content__footer"><!----> <!----></div></div></div></div></div></div></div>
    <script src="/electron-flyer/assets/js/app.22e63a91.js" defer></script><script src="/electron-flyer/assets/js/5.968ec6b8.js" defer></script>
  </body>
</html>
